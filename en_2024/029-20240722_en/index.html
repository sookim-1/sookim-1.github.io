<!doctype html><html lang="en" data-bs-theme="light"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="When writing a Codable model for a JSON response from the server, if there is a data type mismatch or a missing key, you can extend KeyedDecodingContainer to replace it with a predefined default value instead of causing the app to crash."><meta name="author" content="sookim-1"><meta name="generator" content="Ignite v0.2.1"><title>Number: 029, Date: 2024-07-22 – My T.W.L Site</title><link href="/css/bootstrap.min.css" rel="stylesheet"><link href="/css/bootstrap-icons.min.css" rel="stylesheet"><link href="https://sookim-1.github.io/en_2024/029-20240722_en" rel="canonical"><link href="/images/favicon.png" rel="icon"><meta property="og:site_name" content="sookim-1"><meta property="og:title" content="Number: 029, Date: 2024-07-22"><meta property="twitter:title" content="Number: 029, Date: 2024-07-22"><meta property="og:description" content="Number: 029, Date: 2024-07-22"><meta name="twitter:description" content="Number: 029, Date: 2024-07-22"><meta property="og:url" content="https://sookim-1.github.io/en_2024/029-20240722_en"><meta name="twitter:domain" content="sookim-1.github.io"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:dnt" content="on"></head><body class="container" style="padding-top: 80px; padding-bottom: 80px"><div class="col-sm-10 mx-auto"><h1>Number: 029, Date: 2024-07-22</h1><p><h2>2024.07.15 ~ 2024.07.21</h2><h3>🌏 Handling JSON</h3><hr /><p>When writing a Codable model for a JSON response from the server, if there is a data type mismatch or a missing key, you can extend <code>KeyedDecodingContainer</code> to replace it with a predefined default value instead of causing the app to crash.</p><p>However, in specific requests where you want to distinguish between <code>null</code> and default values, the extension may still replace <code>null</code> with the default value. To solve this, I modified the code by adding a property to the <code>Decoder</code> object, which allows differentiating between cases based on the property value.</p><p>While modifying this code, I used the 🔗 <a href="https://insomnia.rest/"><strong>Insomnia</strong></a> tool to create a mock API, and it was very convenient—definitely a tool I’ll be using more often.</p><p>I’ve also added the relevant code for 🔗 <a href="https://gist.github.com/sookim-1/24118584ae49a5c1f5d11e03a4c50de9"><strong>KeyedDecodingContainer+Extension.swift</strong></a> as a gist for future reference.</p><h3>⚙️ Private CocoaPod Deployment</h3><hr /><p>During the development of a SwiftUI project, I thought it would be convenient to create a reusable Design System, so I created a SwiftUI DesignSystem repository.</p><p>Since it’s for personal use, I decided not to release it as an open-source project but rather as a private pod. To achieve this, I modified the podspec and deployed it.</p><p>For private pod deployment, two repositories are required: one for the library and one for the spec. The library code resides in the library repository, and the pod is added by accessing the spec repository.</p><p>Deploying to a public repository was simpler. You just need to register an account with CocoaPod and publish the podspec.</p><p>While the pod was successfully deployed, there were still issues with the bundle not being found for resource files. I’ll need to address these issues while also modifying the project to support SPM alongside CocoaPods.</p><h3>🙋🏻‍♂️ Other Notes</h3><hr /><ol><li>An issue occurred when multiple tab bar items were touched simultaneously in <code>UITabBarControllerDelegate</code>’s animation method. I realized that multi-touch should be restricted when implementing a tab bar to prevent such issues.</li><li>During a WebView code review, I came across 🔗 <a href="https://developer.apple.com/documentation/webkit/wkwebview/1414950-customuseragent"><strong>customAgent</strong></a> and 🔗 <a href="https://developer.apple.com/documentation/webkit/wkwebviewconfiguration/1395665-applicationnameforuseragent"><strong>applicationNameForUserAgent</strong></a>. I researched the difference between the two and found that <code>customAgent</code> completely overrides the user agent, while <code>applicationNameForUserAgent</code> simply appends to the existing user agent. However, depending on the website, <code>applicationNameForUserAgent</code> may not work correctly, so setting the user agent with <code>customAgent</code> is generally the safer option.</li></ol></p><div><h3><a href="/tags/i-o-s" rel="tag"><span class="badge text-bg-primary rounded-pill" style="margin-right: 5px">iOS</span></a><a href="/tags/swift" rel="tag"><span class="badge text-bg-primary rounded-pill" style="margin-right: 5px">Swift</span></a><a href="/tags/j-s-o-n" rel="tag"><span class="badge text-bg-primary rounded-pill" style="margin-right: 5px">JSON</span></a><a href="/tags/cocoa-pods" rel="tag"><span class="badge text-bg-primary rounded-pill" style="margin-right: 5px">Cocoa Pods</span></a><a href="/tags/web-view" rel="tag"><span class="badge text-bg-primary rounded-pill" style="margin-right: 5px">WebView</span></a><a href="/tags/tab-bar" rel="tag"><span class="badge text-bg-primary rounded-pill" style="margin-right: 5px">TabBar</span></a><a href="/tags/r-e-s-t-a-p-i" rel="tag"><span class="badge text-bg-primary rounded-pill" style="margin-right: 5px">REST API</span></a></h3></div></div><script src="/js/bootstrap.bundle.min.js"></script></body></html>
<!DOCTYPE html><html lang="ko"><head><meta charset="UTF-8"/><meta property="og:site_name" content="sookim-1"/><link rel="canonical" href="https://sookim-1.github.io/posts/005-20240304"/><meta name="twitter:url" content="https://sookim-1.github.io/posts/005-20240304"/><meta property="og:url" content="https://sookim-1.github.io/posts/005-20240304"/><title>번호 : 005, 작성일자: 2024-03-04 | sookim-1</title><meta name="twitter:title" content="번호 : 005, 작성일자: 2024-03-04 | sookim-1"/><meta property="og:title" content="번호 : 005, 작성일자: 2024-03-04 | sookim-1"/><meta name="description" content="Custom Push, APNs Payload 형식, 앱스토어 Reject, 빌드 시간 단축, Appstore Connect, Sentry fastlane plugin"/><meta name="twitter:description" content="Custom Push, APNs Payload 형식, 앱스토어 Reject, 빌드 시간 단축, Appstore Connect, Sentry fastlane plugin"/><meta property="og:description" content="Custom Push, APNs Payload 형식, 앱스토어 Reject, 빌드 시간 단축, Appstore Connect, Sentry fastlane plugin"/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.svg" type="image/svg+xml"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to sookim-1"/></head><body class="item-page"><header><div class="wrapper"><a href="/" class="site-name">sookim-1</a></div></header><div class="wrapper"><article><div class="content"><h1>번호 : 005, 작성일자: 2024-03-04</h1><h2>2024.02.27 ~ 2024.03.03</h2><h3>🔥 Push 신규 케이스 추가 및 Custom Push</h3><p>기본적으로 서비스에서 Socket을 사용 중이지만 추가적으로 Push를 이용하여 데이터전달을 추가적으로 받고 있는데 신규 케이스를 추가하는 작업을 진행했다.</p><p>iOS에서는 APNs로 Payload형식을 맞추어 값을 지정하여 Push를 전송해야 APNs에서 기기로 전달을 하는데 해당 형식을 수정할 부분등이 있었고 Foreground에서 Push를 표시하는 작업도 진행했다.</p><p>추후 Custom Push작업을 진행할 수 도 있기 때문에 Push에 Attachment를 이용하여 이미지를 전달받는 방법과 값을 변경하는 방법등 <a href="https://ios-development.tistory.com/1280">김종권iOS블로그 - Push 섹션</a>를 참고하여 테스트를 해보았다.</p><p>Notification Service Extension을 진행하면서 발생한 이슈가 한가지 있었는데 <strong>Command ValidateEmbeddedBinary failed with a nonzero exit code</strong> 해당 에러는 Notification Service Extension 타겟의 Bundle Version들이 Host 타겟과 다르기 때문에 발생한 이슈여서 버전을 맞춰주어 해결했다.</p><hr><h3>🛫 앱스토어 Reject</h3><p>앱스토어 심사를 제출한지 하루만에 Reject을 받았는데 사유는 <strong>Guideline 2.1 - Performance - App Completeness</strong> 심사자의 아이패드 에어에서 흰 화면에서 진행이 안되는 이슈였다. 배포를 진행할 때 fastlane을 이용하여 배포를 하는데 Archive를 진행하는 도중 일부 오류가 발생한 것 같다. 재배포를 진행한 후 시뮬레이터로 동일한 기기와 동일한 버전으로 실행한 경우 진행이 되었기 때문에 재심사를 요청했다.</p><p>과거에 관련한 이슈가 있었는데 fastlane을 이용해 서로 다른 컴퓨터에서 배포하였을 때 어떤 버전에서는 특정 iOS버전이 빌드가 잘 되었고, 다른 컴퓨터에서 배포한 버전에서는 특정 iOS버전이 충돌이 나는 이슈가 있었다.</p><hr><h3>🙋🏻‍♂️ 기타 사항</h3><ol><li>최근에 Firebase 라이브러리의 Pod version을 업데이트한 이후에 기하급수적으로 빌드시간이 증가되었다.(약 2배) 따라서 Xcode 빌드시간을 계산하는 옵션을 활성화하고 오래걸리는 코드블록에 경고표시를 하여 확인을 진행했다. 추후 빌드시간 단축을 위해 작업을 진행해야겠다.</li><li>AppStore Connect를 들어갔는데 프로파일, 인증서, 기기등 사용하지 않는 값들이 남아있어서 확인 후 정리하였다.</li><li>fastlane을 이용하여 sentry를 upload할 때 plugin을 변경하면 소스코드를 더 자세히 표시할 거로 예상했는데 예상과 다르게 동일하여서 더 자세히 알아봐야겠다.</li></ol></div><span>태그: </span><ul class="tag-list"><li><a href="/tags/ios">ios</a></li><li><a href="/tags/swift">swift</a></li><li><a href="/tags/sentry">sentry</a></li><li><a href="/tags/fastlane">fastlane</a></li><li><a href="/tags/앱스토어-reject">앱스토어 reject</a></li><li><a href="/tags/push">Push</a></li><li><a href="/tags/apns">APNs</a></li></ul></article></div><footer><p>Generated using <a href="https://github.com/johnsundell/publish">Publish</a></p><p><a href="mailto:scstnghks@gmail.com">Gmail</a> | <a href="https://www.linkedin.com/in/soohwan-kim-80250623a/">LinkedIn</a> | <a href="https://github.com/sookim-1">GitHub</a> | <a href="/feed.rss">RSS</a></p></footer></body></html>
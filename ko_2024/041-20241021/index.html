<!doctype html><html lang="en" data-bs-theme="light"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="Swift Testing을 사용해보기 위해서 일단 외부 API 네트워킹을 담당하는 코드를 작성했다."><meta name="author" content="sookim-1"><meta name="generator" content="Ignite v0.2.1"><title>번호 : 041, 작성일자: 2024-10-21 – My T.W.L Site</title><link href="/css/bootstrap.min.css" rel="stylesheet"><link href="/css/bootstrap-icons.min.css" rel="stylesheet"><link href="https://sookim-1.github.io/ko_2024/041-20241021" rel="canonical"><link href="/images/favicon.png" rel="icon"><meta property="og:site_name" content="sookim-1"><meta property="og:title" content="번호 : 041, 작성일자: 2024-10-21"><meta property="twitter:title" content="번호 : 041, 작성일자: 2024-10-21"><meta property="og:description" content="번호 : 041, 작성일자: 2024-10-21"><meta name="twitter:description" content="번호 : 041, 작성일자: 2024-10-21"><meta property="og:url" content="https://sookim-1.github.io/ko_2024/041-20241021"><meta name="twitter:domain" content="sookim-1.github.io"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:dnt" content="on"></head><body class="container" style="padding-top: 80px; padding-bottom: 80px"><div class="col-sm-10 mx-auto"><h1>번호 : 041, 작성일자: 2024-10-21</h1><p><h2>2024.10.14 ~ 2024.10.20</h2><h3>✅ async & await API 코드 작성</h3><hr /><p>Swift Testing을 사용해보기 위해서 일단 외부 API 네트워킹을 담당하는 코드를 작성했다.</p><p>네트워킹 담당 모듈로 작성하여 요청모델을 주면 응답모델만을 반환하도록 하여 재사용이 가능하도록 작성했다.</p><ol><li>RequestModel에서 URL주소 문자열, 쿼리파라미터, 헤더,HTTP 메서드타입, 요청 body, 디코딩할 타입 전달</li><li>디코딩 된 모델 응답</li></ol><p>패키지로 분리했고 원격에 올릴 필요는 없어서 로컬패키지로 개발하였다.</p><ol><li>$ swift package init –name <프로젝트명> –type <타입명></li><li>Tuist Project.swift 에서 경로 입력하여 추가</li></ol><p>테스트코드를 사용해보고 느낀점은 앱을 전체빌드하지 않아도 패키지를 mac으로 실행하거나 터미널에서 $ swift test 실행하면 응답값이 정확히 받았는지 확인할 수 있어서 굉장히 빨리 테스트할 수 있다.</p><h3>🌎 WebView</h3><hr /><p>미디엄블로그에 <a href="https://whitelips.medium.com/">@whitelips</a> 분이 작성한 웹뷰 관련 글들이 잘 정리되있어서 해당 글들을 봤다.</p><p>웹뷰(WebView)란 <strong>네이티브 앱에 내재되어 있는 웹 브라우저입니다.</strong></p><p>iOS에서는 웹뷰 구현방식으로 UIWebView, WKWebView, SFSafariViewController 3가지 방식이 있는데 UIWebView는 iOS 12이상에서 사용이 불가하고, SFSafariViewController는 Safari 브라우저를 통해 웹 콘텐츠를 표시할 수 있고, WKWebView를 보통 사용한다.</p><p>WKWebView의 쿠키관리, 타임아웃, 멀티프로세스 구조 원리, 강한 참조등 <a href="https://github.com/WebKit/WebKit">WebKit 오픈소스 코드</a>를 기반으로 설명하셔서 도움이 많이 된다. 추천</p><h3>❎ UIApplication.shared.open 메서드 실패</h3><hr /><p>iOS18 이후부터 <a href="http://UIApplication.shared.open">UIApplication.shared.open</a> 메서드가 호출되지 않는 이슈가 있다. 호출되지 않는 시점 콘솔을 확인해보면 <code>BUG IN CLIENT OF UIKIT: The caller of UIApplication.openURL(:) needs to migrate to the non-deprecated UIApplication.open(:options:completionHandler:). Force returning false (NO).</code> 라는 에러가 발생한다.</p><p>애플 개발자포럼에도 논의 중인 것 같다.</p><ul><li><a href="https://forums.developer.apple.com/forums/thread/763568">포럼 논의 내용</a></li></ul><p>🅾️ : UIApplication.shared.open(urlString, options: [:], completionHandler: nil)</p><p>❎ : UIApplication.shared.open(urlString)</p><p>이제, open 할 때 파라미터를 주의해야한다.</p><h3>🙋🏻‍♂️ 기타 사항</h3><hr /><ol><li>Facebook (Meta) 개발자 심사에서는 어떻게 Debug 모드를 시도해봤는지 모르겠지만 Debug 모드도 동작하는지 확인해줘야 합니다.</li><li>티스토리 플랫폼을 통해 개발블로그를 사용했지만 인덱스별로 SEO 구글 서치콘솔이 제대로 동작하지 않고, 여러가지 이유로 미디엄으로 개발블로그로 이전했다.<ul><li><a href="[https://medium.com/@sookim-1/ios-개발자가-알아야-할-json-처리-방법-150713f9f431](https://medium.com/@sookim-1/ios-%EA%B0%9C%EB%B0%9C%EC%9E%90%EA%B0%80-%EC%95%8C%EC%95%84%EC%95%BC-%ED%95%A0-json-%EC%B2%98%EB%A6%AC-%EB%B0%A9%EB%B2%95-150713f9f431)">iOS 개발자가 알아야 할 JSON 처리 방법</a> 글 첫 시작</li></ul></li><li>iOS 기존앱에 Flutter 모듈을 추가할 수 있다고 하여서 한번 검토해봤다.<ul><li><a href="https://github.com/flutter-korea/flutter-add-to-app">flutter-add-to-app</a>해당 라이브러리로 이동하여 추가할 Flutter 모듈에서 $ flutter pub get 을 하면 확인해볼 수 있다.</li></ul></li></ol></p><div><h3><a href="/tags/i-o-s" rel="tag"><span class="badge text-bg-primary rounded-pill" style="margin-right: 5px">iOS</span></a><a href="/tags/swift" rel="tag"><span class="badge text-bg-primary rounded-pill" style="margin-right: 5px">Swift</span></a><a href="/tags/xcode" rel="tag"><span class="badge text-bg-primary rounded-pill" style="margin-right: 5px">Xcode</span></a><a href="/tags/unit-test" rel="tag"><span class="badge text-bg-primary rounded-pill" style="margin-right: 5px">UnitTest</span></a><a href="/tags/u-i-test" rel="tag"><span class="badge text-bg-primary rounded-pill" style="margin-right: 5px">UITest</span></a><a href="/tags/concurrency" rel="tag"><span class="badge text-bg-primary rounded-pill" style="margin-right: 5px">Concurrency</span></a><a href="/tags/open-u-r-l" rel="tag"><span class="badge text-bg-primary rounded-pill" style="margin-right: 5px">openURL</span></a><a href="/tags/facebook" rel="tag"><span class="badge text-bg-primary rounded-pill" style="margin-right: 5px">Facebook</span></a><a href="/tags/blog" rel="tag"><span class="badge text-bg-primary rounded-pill" style="margin-right: 5px">Blog</span></a><a href="/tags/flutter" rel="tag"><span class="badge text-bg-primary rounded-pill" style="margin-right: 5px">Flutter</span></a><a href="/tags/web-view" rel="tag"><span class="badge text-bg-primary rounded-pill" style="margin-right: 5px">WebView</span></a></h3></div></div><script src="/js/bootstrap.bundle.min.js"></script></body></html>
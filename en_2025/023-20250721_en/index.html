<!doctype html><html lang="en" data-bs-theme="light"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="I‚Äôve used Xcode Instruments a few times to check for memory leaks, but I had never explored other templates. After digging around, I realized there isn‚Äôt a clear official explanation of each template‚Äôs purpose, so I compiled a summary of the templates and their usage."><meta name="author" content="sookim-1"><meta name="generator" content="Ignite v0.2.1"><title>No: 023, Date: 2025-07-21 ‚Äì My T.W.L Site</title><link href="/css/bootstrap.min.css" rel="stylesheet"><link href="/css/bootstrap-icons.min.css" rel="stylesheet"><link href="https://sookim-1.github.io/en_2025/023-20250721_en" rel="canonical"><link href="/images/favicon.png" rel="icon"><meta property="og:site_name" content="sookim-1"><meta property="og:title" content="No: 023, Date: 2025-07-21"><meta property="twitter:title" content="No: 023, Date: 2025-07-21"><meta property="og:description" content="No: 023, Date: 2025-07-21"><meta name="twitter:description" content="No: 023, Date: 2025-07-21"><meta property="og:url" content="https://sookim-1.github.io/en_2025/023-20250721_en"><meta name="twitter:domain" content="sookim-1.github.io"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:dnt" content="on"></head><body class="container" style="padding-top: 80px; padding-bottom: 80px"><div class="col-sm-10 mx-auto"><h1>No: 023, Date: 2025-07-21</h1><p><h2>2025.06.30 ~ 2025.07.20</h2><h3>‚úçÔ∏è¬†Xcode Instruments</h3><hr /><p>I‚Äôve used Xcode Instruments a few times to check for memory leaks, but I had never explored other templates. After digging around, I realized there isn‚Äôt a clear official explanation of each template‚Äôs purpose, so I compiled a summary of the templates and their usage.</p><p>Apple provides a tutorial on detecting hangs and identifying the cause, which I followed.</p><p>Previously, we relied on Sentry to detect hangs, which were only caught alongside crashes, making it hard to distinguish between the two. By using the <strong>Time Profiler</strong> template in Instruments, it became much easier to analyze the issue since it immediately notifies you when a certain time threshold is exceeded.</p><p>I examined all our apps using the appropriate templates and found that it would greatly help improve overall service performance.</p><p>In addition, you can use <strong>Firebase Performance Monitoring</strong> to measure performance. Since Remote Config is a dependency, it gets installed automatically, but you can disable it as needed. This makes it easy to integrate without affecting live services while gaining access to valuable performance insights.</p><ul><li>Out-of-the-box, it provides data on app launch time, foreground/background activity, rendering time, network duration, etc., and allows custom metrics too.</li></ul><h3>üíæ¬†Memory Management</h3><hr /><p>While checking for memory leaks, I reviewed and organized core iOS memory concepts again.</p><p>I also watched related WWDC sessions.</p><p>Proper memory management boosts app launch speed, improves overall performance, and helps your app (and others) stay longer in memory.</p><blockquote><p>Swift: Deep Copy, Shallow Copy, COW</p></blockquote><ul><li><strong>Deep Copy</strong>: Copies data to a new memory space</li><li><strong>Shallow Copy</strong>: Copies the reference (memory address) only</li><li><strong>COW (Copy On Write)</strong>: Starts as a shallow copy and performs a deep copy only when values are modified</li></ul><p>Note: For reference types to support deep copying, the <code>NSCopying</code> protocol is typically used.</p><p>Before using Instruments or libraries, I listed common cases where memory leaks occur to remain mindful of them during development.</p><h3>‚öí¬†ImageLoader Implementation</h3><hr /><p>As part of a functional programming course, there was an assignment to implement an ImageLoader using functional concepts. While building it, I realized it would be helpful to package it with features like E-Tag and downsampling so it could be reused across multiple projects.</p><p>I organized concepts such as E-Tag, memory cache, disk cache, and downsampling.</p><ul><li>Memory cache uses <code>NSCache</code></li><li>Disk cache uses <code>FileManager</code></li><li>Used <code>Result+Extension</code> to handle success and failure as separate flows within a single pipeline</li></ul><p>I also read various blog posts where developers built their own custom ImageLoaders. One that implemented <code>NSCache</code> entirely in Swift stood out.</p><p>You can see the flow in the diagram below. This will be included in <a href="https://github.com/sookim-1/my-swift-package">my-swift-package</a>.</p><pre><code class="language-mermaid">graph TD
    A("Image Load Request") --> B("<b>Generate Cache Key</b><br/>URL + Downsampling Options");

    B --> C{Check Memory Cache};
    
    C -- <b>Hit</b> --> D{Validate ETag with Network};
	C -- Miss --> E{Check Disk Cache};

    D -- "‚úÖ 304 (Valid)" --> F([Use Memory Cache Data]);
    D -- "üîÑ 200 (Updated)" --> J[Process New Data];

    E -- <b>Hit</b> --> D{Validate ETag};
    E -- Miss --> H[Network Request];

    D -- "‚úÖ 304 (Valid)" --> I([Use Disk Cache Data]);
    
    I --> I_Save(Save to Memory);
    
    H --> J;
    
    subgraph " "
      J --> K(Save to Memory);
      K --> L(Save to Disk);
    end

    F --> Z_Pre(Confirm Final Data);
    I_Save --> Z_Pre;
    L --> Z_Pre;

    Z_Pre -- "Downsampling Option O" --> Z_Downsample(Perform Downsampling);
    Z_Pre -- "Downsampling Option X" --> Z_Final(Return UIImage);
    Z_Downsample --> Z_Final;

    style A fill:#B3E5FC,stroke:#333,stroke-width:2px
    style J fill:#FFF9C4,stroke:#333,stroke-width:2px
    style H fill:#FFCDD2,stroke:#333,stroke-width:2px
    style Z_Final fill:#C8E6C9,stroke:#333,stroke-width:2px    
</code></pre><h3>üôãüèª‚Äç‚ôÇÔ∏è Other Notes</h3><ol><li>I had been using Monica for Chrome website translation, but recently switched to Immersive Translate, which focuses solely on translation. It felt faster and more efficient, so I made the switch. Highly recommend it.</li><li>I‚Äôve been gradually migrating to Swift 6 and referred to the official migration guide. After enabling the compiler option, I reviewed warnings and rewrote singleton implementations using Swift 6 syntax.</li><li>I watched the full n8n tutorial. As I explored the workflow system using IF nodes and LOOP nodes, it felt very much like building actual functions and programs. Knowing the core nodes is crucial for writing effective workflows.</li><li>Over the weekend, I used MAKE to create a workflow that saves video metadata from a specific YouTube channel to Google Sheets using the YouTube API. I used this to archive SwiftUI content from KavSoft for future reference.</li><li>As my GitHub repositories increased, I renamed them to maintain a consistent naming convention. After comparing kebab-case and snake_case, I found kebab-case to be more suitable for repository URLs.</li></ol></p><div><h3><a href="/tags/i-o-s" rel="tag"><span class="badge text-bg-primary rounded-pill" style="margin-right: 5px">iOS</span></a><a href="/tags/swift" rel="tag"><span class="badge text-bg-primary rounded-pill" style="margin-right: 5px">Swift</span></a><a href="/tags/memory" rel="tag"><span class="badge text-bg-primary rounded-pill" style="margin-right: 5px">Memory</span></a><a href="/tags/xcode-instrument" rel="tag"><span class="badge text-bg-primary rounded-pill" style="margin-right: 5px">Xcode Instrument</span></a><a href="/tags/image-loader" rel="tag"><span class="badge text-bg-primary rounded-pill" style="margin-right: 5px">ImageLoader</span></a><a href="/tags/chrome" rel="tag"><span class="badge text-bg-primary rounded-pill" style="margin-right: 5px">Chrome</span></a><a href="/tags/n8n" rel="tag"><span class="badge text-bg-primary rounded-pill" style="margin-right: 5px">n8n</span></a><a href="/tags/m-a-k-e" rel="tag"><span class="badge text-bg-primary rounded-pill" style="margin-right: 5px">MAKE</span></a><a href="/tags/github" rel="tag"><span class="badge text-bg-primary rounded-pill" style="margin-right: 5px">Github</span></a></h3></div></div><script src="/js/bootstrap.bundle.min.js"></script></body></html>